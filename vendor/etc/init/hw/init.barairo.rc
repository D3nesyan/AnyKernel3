#
# init.barairo.rc for barairo kernel
# 
on property:sys.boot_completed=1
    # Setup runtime blkio
    # value for group_idle is us
    write /dev/blkio/blkio.weight 1000
    write /dev/blkio/background/blkio.weight 200
    write /dev/blkio/blkio.group_idle 2000
    write /dev/blkio/background/blkio.group_idle 0
    # schedtune boost
    chown root root /dev/stune/top-app/schedtune.boost
    write /dev/stune/top-app/schedtune.boost 5
    # Trigger selinux faker
    write /sys/fs/selinux/enforce 1
    # cpuset
    write /dev/cpuset/top-app/cpus 0-7
    write /dev/cpuset/foreground/cpus 0-5
    write /dev/cpuset/foreground/boost/cpus 0-5
    write /dev/cpuset/background/cpus 0-1
    write /dev/cpuset/system-background/cpus 0-3
    write /dev/cpuset/restricted/cpus 0-3
